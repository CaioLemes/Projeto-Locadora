CREATE DATABASE Locadora;
use Locadora;

CREATE TABLE `aluguel` (
  `Filme_ID` int(11) NOT NULL,
  `Cliente_ID` int(11) NOT NULL,
  `ID` int(11) NOT NULL,
  `Funcionario_ID` int(11) NOT NULL,
  `Valor` float NOT NULL,
  `Data_devolucao` date NOT NULL,
  `Dias_alugados` int(11) NOT NULL,
  PRIMARY KEY (`Filme_ID`,`Cliente_ID`,`ID`,`Funcionario_ID`),
  KEY `fk_Filme_has_Cliente_Cliente1_idx` (`Cliente_ID`),
  KEY `fk_Filme_has_Cliente_Filme_idx` (`Filme_ID`),
  KEY `fk_Aluguel_Funcionario1_idx` (`Funcionario_ID`),
  CONSTRAINT `fk_Aluguel_Funcionario1` FOREIGN KEY (`Funcionario_ID`) REFERENCES `funcionario` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_Filme_has_Cliente_Cliente1` FOREIGN KEY (`Cliente_ID`) REFERENCES `cliente` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_Filme_has_Cliente_Filme` FOREIGN KEY (`Filme_ID`) REFERENCES `filme` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION 
  );


CREATE TABLE `cliente` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `Nome` varchar(255) NOT NULL,
  `Telefone` varchar(20) NOT NULL,
  `Endereco` varchar(255) NOT NULL,
  `RG` varchar(12) NOT NULL,
  PRIMARY KEY (`ID`)
);


CREATE TABLE `filme` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `Titulo` varchar(255) NOT NULL,
  `Genero` varchar(45) NOT NULL,
  `Classificacao` varchar(255) NOT NULL,
  `Diretor` varchar(255) NOT NULL,
  `Data_Lancamento` date NOT NULL,
  `Tipo` varchar(255) NOT NULL,
  `Quantidade` int(11) NOT NULL,
  `Valor` float NOT NULL,
  PRIMARY KEY (`ID`)
);


CREATE TABLE `funcionario` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `Nome` varchar(255) NOT NULL,
  `Telefone` varchar(20) NOT NULL,
  `RG` varchar(12) NOT NULL,
  PRIMARY KEY (`ID`)
);



